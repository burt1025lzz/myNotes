# 从前端到全栈

------



## 一、如何解决移动端 H5 点击有 300ms 延迟

### 1. 背景

+ double tap to zoom

### 2. 初期解决方案 FastClick

```js
window.addEventListener("load", function() {
  	FastClick.attach(document.body)
}, false)
```

### 3. FastClick 原理

+ 监听 touchend 事件（ touchstart touchend 会先于 click 触发 ）
+ 使用 **自定义 DOM 事件** 模拟一个 click 事件
+ 把默认的 click 事件（ 300ms 之后触发）禁止掉

### 4. 现代浏览器的改进

![image-20220321170114819](https://burt-markdown.oss-cn-shenzhen.aliyuncs.com/markdown/image-20220321170114819.png)

------

